<link href="../../../../polymer-elements/polymer-flex-layout/polymer-flex-layout.html" rel="import">
<link href="../../../../polymer-elements/polymer-grid-layout/polymer-grid-layout.html" rel="import">
<link href="../../../../polymer-elements/polymer-media-query/polymer-media-query.html" rel="import">
<link href="../../../../polymer-ui-elements/polymer-ui-menu/polymer-ui-menu.html" rel="import">
<link href="../../../../polymer-ui-elements/polymer-ui-menu-item/polymer-ui-menu-item.html" rel="import">
<link href="../../../../polymer-ui-elements/polymer-ui-overlay/polymer-ui-overlay.html" rel="import">
<link href="../../../../polymer-ui-elements/polymer-ui-pages/polymer-ui-pages.html" rel="import">
<link href="contacts-create.html" rel="import">
<link href="contacts-icon.html" rel="import">
<link href="contacts-list.html" rel="import">
<polymer-element name="contacts-app" attribiutes="page">
	<template>
		<style>
			polymer-ui-menu {
				padding: 0 !important;
			}
			.sidebar {
				position: absolute;
				top: 0;
				left: 0;
				bottom: 0;
				background-color: white;
				font-family: 'Helvetica Neue Medium', HelveticaNeue-Medium, Helvetica, sans-serif;
				width: 80%;
				max-width: 300px;
				box-shadow: 5px 0px 5px rgba(50, 50, 50, 0.6);
			}
			.sidebar .header {
				box-sizing: border-box;
				height: 240px;
				background: url('http://lorempixel.com/500/240/nature') repeat-x;
				padding: 20px 20px 10px;
				color: white;
			}
			.sidebar::x-overlay {
				height: 100%;
			}
			.sidebar polymer-ui-menu-item {
				margin: 10px;
				color: black;
			}
			polymer-ui-pages {
				display: block;
				height: 100%;
				z-index: 0;
			}
		</style>
		<polymer-media-query query="min-width: 768px" queryMatches="{{wideLayout}}"></polymer-media-query>
		<polymer-grid-layout id="grid"></polymer-grid-layout>
		<polymer-ui-overlay id="sidebar" class="sidebar" backdrop modal>
			<polymer-ui-menu valueattr="label" on-polymer-select="{{sidebarCloseAction}}">
				<div class="header">
					<polymer-flex-layout vertical></polymer-flex-layout>
					<contacts-icon contact="{{me}}" large></contacts-icon>
					<div flex></div>
					<p>ykyyip@google.com</p>
				</div>
				<polymer-ui-menu-item label="Contacts" icon="contact"></polymer-ui-menu-item>
				<polymer-ui-menu-item label="Groups" icon="stream"></polymer-ui-menu-item>
				<polymer-ui-menu-item label="Favorites" icon="favorite"></polymer-ui-menu-item>
				<polymer-ui-menu-item label="Settings" icon="settings"></polymer-ui-menu-item>
				<polymer-ui-menu-item label="Import &amp; Export" icon="shortcut"></polymer-ui-menu-item>
				<polymer-ui-menu-item label="Help" icon="dialog"></polymer-ui-menu-item>
			</polymer-ui-menu>
		</polymer-ui-overlay>
		<polymer-ui-pages selected="{{page}}" wideLayout?="{{wideLayout}}">
			<contacts-list id="listView" on-contacts-list-add="{{addContactAction}}" on-contacts-menu-open="{{sidebarOpenAction}}"></contacts-list>
			<contacts-create on-contacts-create-cancel="{{shrinkAction}}"></contacts-create>
		</polymer-ui-pages>
	</template>
	<script>
		Polymer('contacts-app', {
			page: 0,
			wideLayout: false,
			ready: function() {
				// this.$.grid.layout = [
				// 	[2, 3, 3]
				// ]
			},
			addContactAction: function() {
				this.page = 1;
			},
			shrinkAction: function() {
				this.page = 0;
			},
			sidebarOpenAction: function() {
				this.$.sidebar.active = true;
			},
			sidebarCloseAction: function() {
				this.$.sidebar.active = false;
			}
		});
	</script>
</polymer-element>